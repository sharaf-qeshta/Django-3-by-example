{% extends "blog/base.html" %}

{% block title %}Share a post{% endblock %}

{% block content %}

    {% if sent %}
        <h1>E-mail successfully sent</h1>
        <p>
            "{{ post.title }}" was successfully sent to {{ form.cleaned_
            data.to }}.
        </p>
    {% else %}
         <h1>Share "{{ post.title }}" by e-mail</h1>
         <form method="post"> <!-- when click on submit it will send as a POST request -->
            {{ form.as_p }}
            {% csrf_token %} <!-- The {% csrf_token %} template tag introduces a hidden field with an autogenerated token to avoid cross-site request forgery (CSRF) attacks. -->
            <input type="submit" value="Send e-mail">
        </form>
    {% endif %}

{% endblock %}



<!--
By default, Django checks for the CSRF token in all POST requests.
Remember to include the csrf_token tag in all forms that are
submitted via POST.
-->